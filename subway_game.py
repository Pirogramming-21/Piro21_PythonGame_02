# ì„œìš¸ ì§€í•˜ì²  1í˜¸ì„  ì—­ ëª©ë¡
line_1 = [
    "ì†Œìš”ì‚°", "ë™ë‘ì²œ", "ë³´ì‚°", "ë™ë‘ì²œì¤‘ì•™", "ì§€í–‰", "ë•ì •", "ë•ê³„", "ì–‘ì£¼", "ë…¹ì–‘", "ê°€ëŠ¥", "ì˜ì •ë¶€",
    "íšŒë£¡", "ë§ì›”ì‚¬", "ë„ë´‰ì‚°", "ë„ë´‰", "ë°©í•™", "ì°½ë™", "ë…¹ì²œ", "ì›”ê³„", "ê´‘ìš´ëŒ€", "ì„ê³„", "ì‹ ì´ë¬¸",
    "ì™¸ëŒ€ì•", "íšŒê¸°", "ì²­ëŸ‰ë¦¬", "ì œê¸°ë™", "ì‹ ì„¤ë™", "ë™ë¬˜ì•", "ë™ëŒ€ë¬¸", "ì¢…ë¡œ5ê°€", "ì¢…ë¡œ3ê°€", "ì¢…ê°",
    "ì‹œì²­", "ì„œìš¸ì—­", "ë‚¨ì˜", "ìš©ì‚°", "ë…¸ëŸ‰ì§„", "ëŒ€ë°©", "ì‹ ê¸¸", "ì˜ë“±í¬", "ì‹ ë„ë¦¼", "êµ¬ë¡œ", "êµ¬ì¼",
    "ê°œë´‰", "ì˜¤ë¥˜ë™", "ì˜¨ìˆ˜", "ì—­ê³¡", "ì†Œì‚¬", "ë¶€ì²œ", "ì¤‘ë™", "ì†¡ë‚´", "ë¶€ê°œ", "ë¶€í‰", "ë°±ìš´", "ë™ì•”",
    "ê°„ì„", "ì£¼ì•ˆ", "ë„í™”", "ì œë¬¼í¬", "ë„ì›", "ë™ì¸ì²œ", "ì¸ì²œ"
]

# ì„œìš¸ ì§€í•˜ì²  2í˜¸ì„  ì—­ ëª©ë¡
line_2 = [
    "ì‹œì²­", "ì„ì§€ë¡œì…êµ¬", "ì„ì§€ë¡œ3ê°€", "ì„ì§€ë¡œ4ê°€", "ë™ëŒ€ë¬¸ì—­ì‚¬ë¬¸í™”ê³µì›", "ì‹ ë‹¹", "ìƒì™•ì‹­ë¦¬", "ì™•ì‹­ë¦¬",
    "í•œì–‘ëŒ€", "ëšì„¬", "ì„±ìˆ˜", "ê±´ëŒ€ì…êµ¬", "êµ¬ì˜", "ê°•ë³€", "ì ì‹¤ë‚˜ë£¨", "ì ì‹¤", "ì ì‹¤ìƒˆë‚´", "ì¢…í•©ìš´ë™ì¥",
    "ì‚¼ì„±", "ì„ ë¦‰", "ì—­ì‚¼", "ê°•ë‚¨", "êµëŒ€", "ì„œì´ˆ", "ë°©ë°°", "ì‚¬ë‹¹", "ë‚™ì„±ëŒ€", "ì„œìš¸ëŒ€ì…êµ¬", "ë´‰ì²œ",
    "ì‹ ë¦¼", "ì‹ ëŒ€ë°©", "êµ¬ë¡œë””ì§€í„¸ë‹¨ì§€", "ëŒ€ë¦¼", "ì‹ ë„ë¦¼", "ë¬¸ë˜", "ì˜ë“±í¬êµ¬ì²­", "ë‹¹ì‚°", "í•©ì •", "í™ëŒ€ì…êµ¬",
    "ì‹ ì´Œ", "ì´ëŒ€", "ì•„í˜„", "ì¶©ì •ë¡œ"
]

# ì„œìš¸ ì§€í•˜ì²  3í˜¸ì„  ì—­ ëª©ë¡
line_3 = [
    "ëŒ€í™”", "ì£¼ì—½", "ì •ë°œì‚°", "ë§ˆë‘", "ë°±ì„", "ëŒ€ê³¡", "í™”ì •", "ì›ë‹¹", "ì›í¥", "ì‚¼ì†¡", "ì§€ì¶•", "êµ¬íŒŒë°œ",
    "ì—°ì‹ ë‚´", "ë¶ˆê´‘", "ë…¹ë²ˆ", "í™ì œ", "ë¬´ì•…ì¬", "ë…ë¦½ë¬¸", "ê²½ë³µê¶", "ì•ˆêµ­", "ì¢…ë¡œ3ê°€", "ì„ì§€ë¡œ3ê°€",
    "ì¶©ë¬´ë¡œ", "ë™ëŒ€ì…êµ¬", "ì•½ìˆ˜", "ê¸ˆí˜¸", "ì˜¥ìˆ˜", "ì••êµ¬ì •", "ì‹ ì‚¬", "ì ì›", "ê³ ì†í„°ë¯¸ë„", "êµëŒ€",
    "ë‚¨ë¶€í„°ë¯¸ë„", "ì–‘ì¬", "ë§¤ë´‰", "ë„ê³¡", "ëŒ€ì¹˜", "í•™ì—¬ìš¸", "ëŒ€ì²­", "ì¼ì›", "ìˆ˜ì„œ", "ê°€ë½ì‹œì¥", "ê²½ì°°ë³‘ì›",
    "ì˜¤ê¸ˆ"
]

# ì„œìš¸ ì§€í•˜ì²  4í˜¸ì„  ì—­ ëª©ë¡
line_4 = [
    "ë‹¹ê³ ê°œ", "ìƒê³„", "ë…¸ì›", "ì°½ë™", "ìŒë¬¸", "ìˆ˜ìœ ", "ë¯¸ì•„", "ë¯¸ì•„ì‚¬ê±°ë¦¬", "ê¸¸ìŒ", "ì„±ì‹ ì—¬ëŒ€ì…êµ¬",
    "í•œì„±ëŒ€ì…êµ¬", "í˜œí™”", "ë™ëŒ€ë¬¸", "ë™ëŒ€ë¬¸ì—­ì‚¬ë¬¸í™”ê³µì›", "ì¶©ë¬´ë¡œ", "ëª…ë™", "íšŒí˜„", "ì„œìš¸ì—­", "ìˆ™ëŒ€ì…êµ¬",
    "ì‚¼ê°ì§€", "ì‹ ìš©ì‚°", "ì´ì´Œ", "ë™ì‘", "ì´ì‹ ëŒ€ì…êµ¬", "ì‚¬ë‹¹", "ë‚¨íƒœë ¹", "ì„ ë°”ìœ„", "ê²½ë§ˆê³µì›", "ëŒ€ê³µì›",
    "ê³¼ì²œ", "ì •ë¶€ê³¼ì²œì²­ì‚¬", "ì¸ë•ì›", "í‰ì´Œ", "ë²”ê³„", "ê¸ˆì •", "ì‚°ë³¸", "ìˆ˜ë¦¬ì‚°", "ëŒ€ì•¼ë¯¸", "ë°˜ì›”",
    "ìƒë¡ìˆ˜", "í•œëŒ€ì•", "ì¤‘ì•™", "ê³ ì”", "ì´ˆì§€", "ì•ˆì‚°", "ì‹ ê¸¸ì˜¨ì²œ", "ì •ì™•", "ì˜¤ì´ë„"
]


import random



def play_subway(players:list):
    print("----------------------------------------------------------------")
    print("                  __  ")
    print("                 /\ \ ")
    print("  ____   __  __  \ \ \____   __  __  __     __      __  __  ")
    print(" /',__\ /\ \/\ \  \ \ '__`\ /\ \/\ \/\ \  /'__`\   /\ \/\ \  ") 
    print("/\__, `\\ \ \_\ \  \ \ \L\ \\ \ \_/ \_/ \/\ \L\.\_ \ \ \_\ \ ")
    print("\/\____/ \ \____/   \ \_,__/ \ \___x___/'\ \__/.\_\ \/`____ \ ")
    print(" \/___/   \/___/     \/___/   \/__//__/   \/__/\/_/  `/___/> \ ")
    print("                                                        /\___/")
    print("                                                        \/__/ ")
    print("----------------------------------------------------------------")
    print("    ~~~~~~~ ì§€í•˜ì² ğŸš†~~ ì§€í•˜ì² ğŸš†~~~ ëª‡í˜¸ì„ ~~~~~ ëª‡í˜¸ì„ ~~~~~~")
    print("----------------------------------------------------------------")
    print("")
    print("")

    start_player = players[0]
    line_list = [line_1, line_2, line_3, line_4]
    line_num = 0
    

    if start_player.is_user:
        while True:
            try:
                line_num = int(input("ì›í•˜ëŠ” í˜¸ì„ ì€? (1~4 ìˆ«ìë¡œ ì…ë ¥í•˜ê¸°)    "))
                if 1<=line_num<=4:
                    break
                else:
                    print("ë²”ìœ„ì— ìˆëŠ” ìˆ«ìë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.")
            except:
                print("ìˆ«ìë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.")
    else:
        line_num = random.randint(1,4)
    print("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~")
    print(f'ğŸš‡ {line_num}í˜¸ì„ ~ {line_num}í˜¸ì„ ~ ğŸš‡')
    print("ê²Œì„ ì‹œì‘!!!!")
    print("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~")

    speaked_station = []
    incorrect_line = [1,2,3,4]
    incorrect_line.pop(line_num-1) # ì˜¬ë°”ë¥´ì§€ ì•Šì€ í˜¸ì„ ë“¤
    cnt = 0

    while True:
        game_player = players[cnt%len(players)]

        # í”Œë ˆì´ì–´ê°€ ì‚¬ëŒì¼ ë•Œ
        if game_player.is_user:
            print(f'{game_player.name}:  ', end = "")
            answer = input()
            if answer in speaked_station:
                print("-------------------------------------------------------")
                print('ì§‘ì¤‘ì€ ìƒëª…! ì§‘ì¤‘ì€ ìƒëª…!')
                print(f'ğŸ™ƒ ëˆ„ê°€ ìˆ ì„ ë§ˆì…” {game_player.name}ì´(ê°€) ìˆ ì„ ë§ˆì…” ì›ìƒ·!! ğŸ™ƒ')
                print("--------------------------------------------------------")
                game_player.drink(1)
                break
            elif answer in line_list[line_num-1]:
                cnt +=1
                speaked_station.append(answer)
                print("í†µê³¼")
            else:
                print("-------------------------------------------------------")
                print(f'âŒ {line_num}í˜¸ì„ ì— ê·¸ëŸ° ì—­ì€ ì—†! ì–´! ìš”! âŒ')
                print(f'ğŸ™ƒ ëˆ„ê°€ ìˆ ì„ ë§ˆì…” {game_player.name}ì´(ê°€) ìˆ ì„ ë§ˆì…” ì›ìƒ·!! ğŸ™ƒ')
                print("-------------------------------------------------------")
                game_player.drink(1)
                break

        else:
            # í™•ë¥ ìƒì„±ê¸°(1~10ê¹Œì§€ ìˆ«ìì¤‘ 1~7ì´ ë‚˜ì˜¤ë©´ í•´ë‹¹ í˜¸ì„ ì— ë§ëŠ” ëŒ€ë‹µ, ì•„ë‹ˆë©´ ë‹¤ë¥¸ í˜¸ì„  ë§í•˜ê¸°)
            random_num = random.randint(1,10)

            print(f'{game_player.name}:  ', end = "")

            if random_num <=7:
                answer = random.choice(line_list[line_num-1])
                print(answer)
                if answer in speaked_station:
                    print("-------------------------------------------------------")
                    print('ì§‘ì¤‘ì€ ìƒëª…! ì§‘ì¤‘ì€ ìƒëª…!')
                    print(f'ğŸ™ƒ ëˆ„ê°€ ìˆ ì„ ë§ˆì…” {game_player.name}ì´(ê°€) ìˆ ì„ ë§ˆì…” ì›ìƒ·!! ğŸ™ƒ')
                    print("-------------------------------------------------------")
                    game_player.drink(1)
                    break
                else:
                    cnt +=1
                    speaked_station.append(answer)
                    print("í†µê³¼")
            else:
                answer = random.choice(line_list[int(random.choice(incorrect_line))-1])
                print(answer)
                print("-------------------------------------------------------")
                print(f'âŒ {line_num}í˜¸ì„ ì— ê·¸ëŸ° ì—­ì€ ì—†! ì–´! ìš”! âŒ')
                print(f'ğŸ™ƒ ëˆ„ê°€ ìˆ ì„ ë§ˆì…” {game_player.name}ì´(ê°€) ìˆ ì„ ë§ˆì…” ì›ìƒ·!! ğŸ™ƒ')
                print("-------------------------------------------------------")
                game_player.drink(1)
                break